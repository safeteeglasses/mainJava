BEGIN transaction;

DROP TABLE IF EXISTS casino  CASCADE;
DROP TABLE IF EXISTS gambler CASCADE;
DROP TABLE IF EXISTS host    CASCADE;
DROP TABLE IF EXISTS dealer  CASCADE;
--
--  CREATE INSTRCTORS SET OF TABLES
--
CREATE TABLE CASINO
    (CASINO_NAME          CHAR(20)            NOT NULL,
     LOCATION             CHAR(15)            NOT NULL,
     OWNER                CHAR(20)            NOT NULL,
     SIZE                 INTEGER             NOT NULL,
     PRIMARY KEY(CASINO_NAME))
 ;
CREATE UNIQUE INDEX CASINO_IX1
                 ON CASINO(CASINO_NAME);
----
CREATE TABLE GAMBLER
    (ID                   SMALLINT            NOT NULL,
     GAMBLER_NAME         CHAR(20)            NOT NULL,
     ADDRESS              CHAR(20),
     BIRTH_DATE           DATE                NOT NULL,
     MONTHLY_SALARY       DECIMAL(9,2)        NOT NULL,
     PRIMARY KEY(ID))
 ;
CREATE UNIQUE INDEX GAMBLER_IX1
                 ON GAMBLER(ID);
----
CREATE TABLE HOST
    (CASINO_NAME          CHAR(20)            NOT NULL,
     ID                   SMALLINT            NOT NULL,
     ROOM_TYPE            CHAR(15)            NOT NULL,
     CREDIT_LINE          DECIMAL(9,2)        NOT NULL,
     AVG_BET              SMALLINT            NOT NULL,
     PRIMARY KEY(CASINO_NAME, ID),
     FOREIGN KEY(CASINO_NAME) REFERENCES CASINO
                              ON DELETE CASCADE,
     FOREIGN KEY(ID) REFERENCES GAMBLER
                              ON DELETE CASCADE)
 ;
CREATE UNIQUE INDEX HOST_IX1
                 ON HOST(CASINO_NAME, ID);
----
CREATE TABLE DEALER
    (CASINO_NAME          CHAR(20)            NOT NULL,
     DEALER_NAME          CHAR(20)            NOT NULL,
     GAME                 CHAR(10)            NOT NULL,
     YEARS_EXP            SMALLINT            NOT NULL,
     PRIMARY KEY(CASINO_NAME, DEALER_NAME),
     FOREIGN KEY(CASINO_NAME) REFERENCES CASINO
                              ON DELETE CASCADE)
 ;
CREATE UNIQUE INDEX DEALER_IX1
                 ON DEALER(CASINO_NAME, DEALER_NAME);
----
--
INSERT INTO CASINO
  VALUES('CAESERS PALACE', 'LAS VEGAS', 'JULIUS CAESER', 40000);
INSERT INTO CASINO
  VALUES('HARVEYS CASINO', 'LAKE TAHOE', 'HARVEY WALLBANGER', 28000);
INSERT INTO CASINO
  VALUES('BALLYS', 'RENO', 'BILL BALLY', 31500);
INSERT INTO CASINO
  VALUES('TRUMP PLAZA', 'ATLANTIC CITY', 'DONUT TRUMP', 22800);
INSERT INTO CASINO
  VALUES('BINIONS HORSESHOE', 'LAS VEGAS', 'FRED BINYAWN', 16900);
----
INSERT INTO GAMBLER
  VALUES(054, 'NEIL BRANSFIELD', 'SEATTLE, WA',
              '1959-03-11', 5000.00);
INSERT INTO GAMBLER
  VALUES(137, 'PHIL DONAHUGE', NULL,
              '1966-12-29', 3250.25);
INSERT INTO GAMBLER
  VALUES(382, 'STICKMAN NELSON', 'CUMBERLAND, MD',
              '1975-10-21', 12983.75);
INSERT INTO GAMBLER
  VALUES(292, 'BETTINA CHAVEZ',  'FRESNO, CA',
              '1968-09-09', 2950.00);
INSERT INTO GAMBLER
  VALUES(012, 'T JUDSON SMITH', 'LOS ANGELES, CA',
              '1992-05-01', 1398.65);
INSERT INTO GAMBLER
  VALUES(049, 'DANA IMORI', NULL,
              '1988-08-08', 7580.50);
INSERT INTO GAMBLER
  VALUES(191, 'FRANK MINT', 'EL PASO, TX',
              '1997-06-23', 8200.00);
INSERT INTO GAMBLER
  VALUES(572, 'AL MOSTBROKE', 'CLAYTON, MO',
              '1985-01-18', 4505.65);
----
----
INSERT INTO DEALER
  VALUES('HARVEYS CASINO', 'PATRICCIO RIODINI', 'CRAPS', 4);
INSERT INTO DEALER
  VALUES('BINIONS HORSESHOE', 'FRED STIPINSKI', 'CRAPS', 8);
INSERT INTO DEALER
  VALUES('BINIONS HORSESHOE', 'STICKMAN NELSON', 'BLACKJACK', 10);
INSERT INTO DEALER
  VALUES('TRUMP PLAZA', 'LANCE LU', 'ROULETTE', 5);
INSERT INTO DEALER
  VALUES('CAESERS PALACE', 'ARTHUR ANDERSEN', 'BLACKJACK', 2);
INSERT INTO DEALER
  VALUES('BALLYS', 'FRANCES ZIELINSKI', 'CRAPS', 1);
----
INSERT INTO HOST
  VALUES('BALLYS', 012, 'DELUXE', 5000.00, 75);
INSERT INTO HOST
  VALUES('BALLYS', 049, 'RACK',   5000.00, 65);
INSERT INTO HOST
  VALUES('BINIONS HORSESHOE', 054, 'PRESIDENTIAL', 1000.00, 10);
INSERT INTO HOST
  VALUES('BALLYS', 054, 'DUMP',   2500.00, 15);
INSERT INTO HOST
  VALUES('BINIONS HORSESHOE', 572, 'PENTHOUSE', 2000.00, 25);
INSERT INTO HOST
  VALUES('HARVEYS CASINO', 191, 'PENTHOUSE', 25000.00, 345);
INSERT INTO HOST
  VALUES('BALLYS', 382, 'RACK',   16.50, 2);
INSERT INTO HOST
  VALUES('BINIONS HORSESHOE', 382, 'RACK', 5000.00, 75);
INSERT INTO HOST
  VALUES('TRUMP PLAZA', 292, 'SUITE', 1000.00, 25);
INSERT INTO HOST
  VALUES('BINIONS HORSESHOE', 012, 'PRESIDENTIAL', 7500.00, 45);
INSERT INTO HOST
  VALUES('BALLYS', 572, 'RACK', 1000.00, 20);
INSERT INTO HOST
  VALUES('TRUMP PLAZA', 049, 'NON-SMOKING', 100000.00, 600);
INSERT INTO HOST
  VALUES('BINIONS HORSESHOE', 292, 'DELUXE', 5000.00, 55);
INSERT INTO HOST
  VALUES('BALLYS', 292, 'SUITE', 2250.00, 20);
INSERT INTO HOST
  VALUES('TRUMP PLAZA', 572, 'NON-SMOKING', 1000.00, 18);
INSERT INTO HOST
  VALUES('BINIONS HORSESHOE', 191, 'PENTHOUSE',  2000.00, 22);
INSERT INTO HOST
  VALUES('BINIONS HORSESHOE', 049, 'RACK', 10000.00, 80);
INSERT INTO HOST
  VALUES('BALLYS', 191, 'RACK', 30000.00, 130);

--ROLLBACK;
COMMIT;
